*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --bg:#fff;--bg2:#f5f5f5;--fg:#111;--fg2:#555;--border:#ddd;
  --accent:#2563eb;--accent-hover:#1d4ed8;--danger:#dc2626;
  --radius:6px;--shadow:0 1px 3px rgba(0,0,0,.08);
}
@media(prefers-color-scheme:dark){
  :root{
    --bg:#0f0f0f;--bg2:#1a1a1a;--fg:#e5e5e5;--fg2:#999;--border:#333;
    --accent:#3b82f6;--accent-hover:#60a5fa;--danger:#ef4444;
    --shadow:0 1px 3px rgba(0,0,0,.3);
  }
}

body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:var(--bg);color:var(--fg);line-height:1.5;min-height:100vh}

.view{max-width:960px;margin:0 auto;padding:1rem}

/* Login */
.login-card{max-width:360px;margin:15vh auto;text-align:center}
.login-card h1{margin-bottom:.5rem}
.login-card p{color:var(--fg2);margin-bottom:1.5rem}
#login-form{display:flex;flex-direction:column;gap:.75rem}
#login-form input{padding:.6rem .8rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg2);color:var(--fg);font-size:.9rem}
#login-form button{padding:.6rem;background:var(--accent);color:#fff;border:none;border-radius:var(--radius);cursor:pointer;font-size:.9rem}
#login-form button:hover{background:var(--accent-hover)}
.error{color:var(--danger);font-size:.85rem;margin-top:.5rem}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid var(--border);margin-bottom:1rem;flex-wrap:wrap;gap:.5rem}
.header-left{display:flex;align-items:center;gap:.75rem}
.header-left h1{font-size:1.25rem}
.badge{background:var(--accent);color:#fff;padding:.1rem .55rem;border-radius:12px;font-size:.8rem;font-weight:600}
.header-right{display:flex;gap:.5rem;align-items:center}
#search-input{padding:.45rem .7rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg2);color:var(--fg);width:220px;font-size:.85rem}
#logout-btn{padding:.4rem .8rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg2);color:var(--fg2);cursor:pointer;font-size:.8rem}
#logout-btn:hover{background:var(--border)}

/* Filters */
#filters{display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:1rem}
.filter-pill{padding:.3rem .7rem;border:1px solid var(--border);border-radius:16px;background:var(--bg);color:var(--fg2);cursor:pointer;font-size:.8rem;white-space:nowrap}
.filter-pill:hover{border-color:var(--accent);color:var(--accent)}
.filter-pill.active{background:var(--accent);color:#fff;border-color:var(--accent)}

/* Memory Cards */
.memory-card{border:1px solid var(--border);border-radius:var(--radius);padding:.8rem 1rem;margin-bottom:.6rem;background:var(--bg);box-shadow:var(--shadow);transition:border-color .15s}
.memory-card:hover{border-color:var(--accent)}
.memory-meta{display:flex;gap:.5rem;align-items:center;margin-bottom:.4rem;flex-wrap:wrap;font-size:.75rem;color:var(--fg2)}
.memory-meta .cat{background:var(--bg2);padding:.1rem .4rem;border-radius:4px;font-weight:500}
.memory-meta .tag{color:var(--accent);font-size:.75rem}
.memory-content{font-size:.87rem;white-space:pre-wrap;word-break:break-word;max-height:6rem;overflow:hidden;cursor:pointer;position:relative}
.memory-content.expanded{max-height:none}
.memory-content:not(.expanded)::after{content:"";position:absolute;bottom:0;left:0;right:0;height:2rem;background:linear-gradient(transparent,var(--bg))}
.memory-content.short::after{display:none}
.memory-actions{display:flex;gap:.5rem;margin-top:.5rem}
.memory-actions button{padding:.25rem .6rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--fg2);cursor:pointer;font-size:.75rem}
.memory-actions button:hover{border-color:var(--accent);color:var(--accent)}
.memory-actions .btn-delete:hover{border-color:var(--danger);color:var(--danger)}

/* Pagination */
#pagination{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem 0}
#pagination button{padding:.4rem .8rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--fg);cursor:pointer;font-size:.85rem}
#pagination button:disabled{opacity:.4;cursor:default}
#pagination button:not(:disabled):hover{border-color:var(--accent);color:var(--accent)}
#page-info{font-size:.85rem;color:var(--fg2)}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:100}
.modal[hidden]{display:none}
.modal-content{background:var(--bg);border-radius:var(--radius);padding:1.5rem;width:90%;max-width:640px;max-height:80vh;display:flex;flex-direction:column}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}
.modal-header h2{font-size:1.1rem}
.modal-close{background:none;border:none;font-size:1.4rem;cursor:pointer;color:var(--fg2);padding:.2rem .4rem}
#edit-textarea{flex:1;min-height:250px;padding:.8rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg2);color:var(--fg);font-family:inherit;font-size:.87rem;resize:vertical}
.modal-actions{display:flex;gap:.5rem;justify-content:flex-end;margin-top:1rem}
.btn-primary{padding:.45rem 1rem;background:var(--accent);color:#fff;border:none;border-radius:var(--radius);cursor:pointer;font-size:.85rem}
.btn-primary:hover{background:var(--accent-hover)}
.btn-secondary{padding:.45rem 1rem;background:var(--bg2);color:var(--fg);border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;font-size:.85rem}

/* Empty state */
.empty{text-align:center;padding:3rem 1rem;color:var(--fg2)}

/* Loading */
.loading{text-align:center;padding:2rem;color:var(--fg2)}
